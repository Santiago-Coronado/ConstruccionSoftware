<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link type="text/css" rel="stylesheet" href="../css/eventos_dom.css">
    <script type="module" src="../js/eventos_dom.js"></script>
    <title>Eventos y Dom</title>
</head>

<body>
    <h1>Eventos y DOM y ChatGPT</h1>

    <div class="container">
        <h2>Instrucciones</h2>
        <p>Utiliza ChatGPT y github Copilot para resolver la siguiente actividad. Antes de hacer los ejercicios, contesta las siguientes preguntas. Pregúntale a ChatGPT las preguntas, y verifica que lo que haya generado es correcto. Cuando sea necesario, agrega un ejemplo de código. Incluye una fuente que valide o invalide lo que generó. Agrega elementos de HTML con tus respuestas. (<b>Protip</b>: usa ChatGPT para que las respuestas las ponga directamente en elementos de html.)</p>

        <p>Terminando las preguntas y los ejercicios, documenta tu experiencia con las herramientas en la sección de conclusiones. </p>
    </div>

    <div class="container">
        <h3>Preguntas</h3>
        <ol>
            <li>¿Qué es el DOM?</li>
            <li>¿Qué es un nodo?</li>
            <li>¿Cómo se accede a un elemento del DOM?</li>
            <li>¿Cómo se modifica un elemento del DOM?</li>
            <li>¿Cuál es la diferencia entre getElementby* y querySelector*?</li>
            <li>¿Qué es un evento?</li>
            <li>¿Qué es un listener?</li>
            <li>¿Qué es un callback?</li>
            <li>¿Qué es un objeto de evento?</li>
        </ol>        
    </div>

    <div class="container">
        <h3>Respuestas</h3>
        <ol>
            <li>
                <strong>¿Qué es el DOM?</strong>
                <p>El DOM (Document Object Model) es una representación en forma de árbol de los elementos de un documento HTML o XML. Permite a los programas y scripts acceder y manipular dinámicamente el contenido, estructura y estilo de los documentos web.</p>
                <p><em>Fuente: <a href="https://developer.mozilla.org/es/docs/Web/API/Document_Object_Model/Introduction" target="_blank">MDN Web Docs</a></em></p>
            </li>
            
            <li>
                <strong>¿Qué es un nodo?</strong>
                <p>Un nodo es la unidad básica en la estructura del DOM. Cada elemento, atributo, texto, comentario, etc. en un documento HTML es representado como un nodo en el árbol del DOM. Hay diferentes tipos de nodos, siendo los más comunes Element (elementos HTML), Text (texto dentro de elementos) y Attribute (atributos de elementos).</p>
                <p><em>Fuente: <a href="https://developer.mozilla.org/es/docs/Web/API/Node" target="_blank">MDN Web Docs</a></em></p>
            </li>
            
            <li>
                <strong>¿Cómo se accede a un elemento del DOM?</strong>
                <p>Se puede acceder a elementos del DOM usando métodos como:</p>
                <ul>
                    <li><code>document.getElementById('id')</code></li>
                    <li><code>document.getElementsByClassName('clase')</code></li>
                    <li><code>document.getElementsByTagName('etiqueta')</code></li>
                    <li><code>document.querySelector('selector')</code></li>
                    <li><code>document.querySelectorAll('selector')</code></li>
                </ul>
                <p>Ejemplo: <code>const header = document.querySelector('h1');</code></p>
                <p><em>Fuente: <a href="https://developer.mozilla.org/es/docs/Web/API/Document/querySelector" target="_blank">MDN Web Docs</a></em></p>
            </li>
            
            <li>
                <strong>¿Cómo se modifica un elemento del DOM?</strong>
                <p>Los elementos del DOM se pueden modificar a través de sus propiedades y métodos, como:</p>
                <ul>
                    <li><code>element.textContent</code> o <code>element.innerHTML</code> para cambiar contenido</li>
                    <li><code>element.setAttribute()</code> para modificar atributos</li>
                    <li><code>element.style</code> para cambiar estilos</li>
                    <li><code>element.classList</code> para manipular clases CSS</li>
                </ul>
                <p>Ejemplo: <code>document.getElementById('miElemento').textContent = 'Nuevo texto';</code></p>
                <p><em>Fuente: <a href="https://developer.mozilla.org/es/docs/Web/API/Element" target="_blank">MDN Web Docs</a></em></p>
            </li>
            
            <li>
                <strong>¿Cuál es la diferencia entre getElementby* y querySelector*?</strong>
                <p>Las principales diferencias son:</p>
                <ul>
                    <li><code>getElementById</code> solo busca por ID, mientras que <code>querySelector</code> usa selectores CSS</li>
                    <li><code>getElementsByClassName</code> y <code>getElementsByTagName</code> retornan HTMLCollections (vivas), mientras que <code>querySelectorAll</code> retorna NodeLists (estáticas)</li>
                    <li><code>querySelector</code> solo retorna el primer elemento que coincide, <code>querySelectorAll</code> retorna todos</li>
                    <li><code>querySelector</code> es más versátil ya que acepta cualquier selector CSS</li>
                </ul>
                <p><em>Fuente: <a href="https://developer.mozilla.org/es/docs/Web/API/Document/querySelector" target="_blank">MDN Web Docs</a></em></p>
                <p><em>Fuente <a href= "https://developer.mozilla.org/es/docs/Web/API/Document/getElementById" target="_blank">MDN Web Docs</a></em></p>
            </li>
            
            <li>
                <strong>¿Qué es un evento?</strong>
                <p>Un evento es una acción o ocurrencia que sucede en el navegador, como un click, movimiento del mouse, carga de página, etc. JavaScript puede detectar estos eventos y ejecutar código en respuesta.</p>
                <p>Ejemplo de eventos comunes: click, mouseover, keydown, load, submit.</p>
                <p><em>Fuente: <a href="https://developer.mozilla.org/es/docs/Web/API/Event" target="_blank">MDN Web Docs</a></em></p>
            </li>
            
            <li>
                <strong>¿Qué es un listener?</strong>
                <p>Un listener (escuchador de eventos) es una función que se registra para ser ejecutada cuando ocurre un evento específico en un elemento. Se agregan usando <code>addEventListener()</code>.</p>
                <p>Ejemplo: <code>button.addEventListener('click', function() { alert('Botón clickeado!'); });</code></p>
                <p><em>Fuente: <a href="https://developer.mozilla.org/es/docs/Web/API/EventTarget/addEventListener" target="_blank">MDN Web Docs</a></em></p>
            </li>
            
            <li>
                <strong>¿Qué es un callback?</strong>
                <p>Un callback es una función que se pasa como argumento a otra función y que se ejecuta después de que ocurre algún evento o condición. En el contexto del DOM, los callbacks son comúnmente usados como funciones de respuesta a eventos.</p>
                <p>Ejemplo: <code>element.addEventListener('click', function() { /* callback */ });</code></p>
                <p><em>Fuente: <a href="https://developer.mozilla.org/es/docs/Glossary/Callback_function" target="_blank">MDN Web Docs</a></em></p>
            </li>
            
            <li>
                <strong>¿Qué es un objeto de evento?</strong>
                <p>El objeto de evento es un objeto que contiene información sobre el evento que ocurrió. Se pasa automáticamente a la función del listener y contiene propiedades como el tipo de evento, el elemento objetivo, posición del mouse, tecla presionada, etc.</p>
                <p>Ejemplo: <code>element.addEventListener('click', function(event) { console.log(event.target); });</code></p>
                <p><em>Fuente: <a href="https://developer.mozilla.org/es/docs/Web/API/Event" target="_blank">MDN Web Docs</a></em></p>
            </li>
        </ol>        
    </div>

    <h3>Ejercicios de código</h3>
    <p>Usa ChatGPT y copilot para resolver los ejercicios. Por cada ejercicio, pídele a ChatGPT o a copilot que te genere los comentarios. Verifica los resultados antes de subirlos a tu repo.</p>

    <!-- Ejercicio 1: Posición del mouse -->
    <div class="container">
        <p>1. Solución:</p>
        <p id="mousePosition">Posición del mouse: </p>
        <script>
            document.addEventListener('mousemove', function(event) {
                const mousePosition = document.getElementById('mousePosition');
                mousePosition.textContent = `Posición del mouse: X=${event.clientX}, Y=${event.clientY}`;
            });
        </script>
    </div>

    <!-- Ejercicio 2: Formulario nombre completo -->
    <div class="container">
        <p>2. Solución:</p>
        <form id="form1">
            First name: <input id="form-fname" type="text" name="fname"><br>
            Last name: <input id="form-lname" type="text" name="lname"><br><br>
            <input id="form1-submit" type="submit" value="Submit">
        </form>
        <div id="fullNameContainer"></div>
        <script>
            document.getElementById('form1').addEventListener('submit', function(event) {
                event.preventDefault();
                const firstName = document.getElementById('form-fname').value;
                const lastName = document.getElementById('form-lname').value;
                const fullNameElement = document.createElement('p');
                fullNameElement.textContent = `Nombre completo: ${firstName} ${lastName}`;
                document.getElementById('fullNameContainer').appendChild(fullNameElement);
            });
        </script>
    </div>    

    <!-- Ejercicio 3: Tabla con filas/columnas -->
    <div class="container">
        <p>3. Agrega el código para agregar una fila, o una columna, a la siguiente tabla al dar click al botón correspondiente.</p>
        <p>3. Solución:</p>
        <table id="sampleTable">
            <tr>
                <td>Row 1 column 1</td>
                <td>Row 1 column 2</td>
            </tr>
            <tr>
                <td>Row 2 column 1</td>
                <td>Row 2 column 2</td>
            </tr>
        </table><br>
        <input id="btn-insert-r" type="button" value="Insert row">
        <input id="btn-insert-c" type="button" value="Insert column">
        <script>
            document.getElementById('btn-insert-r').addEventListener('click', function() {
                const table = document.getElementById('sampleTable');
                const rowCount = table.rows.length;
                const colCount = table.rows[0].cells.length; // Obtenemos el número de columnas
                
                const newRow = table.insertRow();
                
                // Creamos tantas celdas como columnas existan
                for (let i = 0; i < colCount; i++) {
                    const newCell = newRow.insertCell();
                    newCell.textContent = `Row ${rowCount + 1} column ${i + 1}`;
                }
            });
    
            document.getElementById('btn-insert-c').addEventListener('click', function() {
                const table = document.getElementById('sampleTable');
                const rows = table.rows;
                
                for (let i = 0; i < rows.length; i++) {
                    const cellCount = rows[i].cells.length;
                    const newCell = rows[i].insertCell();
                    newCell.textContent = `Row ${i + 1} column ${cellCount + 1}`;
                }
            });
        </script>
    </div>
        
    <!-- Ejercicio 4: Modificar tabla -->
    <div class="container">
        <p>4. Incluye dos cajas de input, para solicitar al usuario la posición de la fila y columna de la siguiente tabla, y otra para solicitar un texto. Al apretar el botón, actualiza el contenido de esa tabla en la posición que solicitaste, con la cadena de texto que solicitaste.</p>
        <p>4. Solución:</p>
        <table id="myTable">
            <tr>
                <td>Row1 cell1</td>
                <td>Row1 cell2</td>
                <td>Row1 cell3</td>
            </tr>
            <tr>
                <td>Row2 cell1</td>
                <td>Row2 cell2</td>
                <td>Row2 cell3</td>
            </tr>
            <tr>
                <td>Row3 cell1</td>
                <td>Row3 cell2</td>
                <td>Row3 cell3</td>
            </tr>
        </table>
        <form>
            <input id="rowIndex" type="text" placeholder="Row Index">
            <input id="colIndex" type="text" placeholder="Col Index">
            <input id="newValue" type="text" placeholder="New Value">
            <input id="btn-change" type="button" value="Change content">
        </form>
        <script>
            document.getElementById('btn-change').addEventListener('click', function() {
                const rowIndex = parseInt(document.getElementById('rowIndex').value) - 1;
                const colIndex = parseInt(document.getElementById('colIndex').value) - 1;
                const newValue = document.getElementById('newValue').value;
                const table = document.getElementById('myTable');
                
                if (rowIndex >= 0 && rowIndex < table.rows.length && 
                    colIndex >= 0 && colIndex < table.rows[rowIndex].cells.length) {
                    table.rows[rowIndex].cells[colIndex].textContent = newValue;
                } else {
                    alert('Índices inválidos');
                }
            });
        </script>
    </div>

    <!-- Ejercicio 5: Lista de colores -->
    <div class="container">
        <p>5. Agrega el código para quitar o agregar elementos a la lista de opciones. Los colores pueden ser aleatorios.</p>
        <p>5. Solución:</p>
        <form>
            <select id="colorSelect">
                <option>Red</option>
                <option>Green</option>
                <option>White</option>
                <option>Black</option>
            </select>
            <input id="btn-add-color" type="button" value="Add color">
            <input id="btn-rmv-color" type="button" value="Remove color">
        </form>
        <script>
            const colors = ['Blue', 'Yellow', 'Purple', 'Orange', 'Pink', 'Brown'];
            
            document.getElementById('btn-add-color').addEventListener('click', function() {
                const select = document.getElementById('colorSelect');
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                const newOption = document.createElement('option');
                newOption.textContent = randomColor;
                select.appendChild(newOption);
            });

            document.getElementById('btn-rmv-color').addEventListener('click', function() {
                const select = document.getElementById('colorSelect');
                if (select.options.length > 0) {
                    select.remove(select.selectedIndex);
                }
            });
        </script>
    </div>

    <!-- Ejercicio 6: Imagen aleatoria -->
    <div class="container">
        <p>6. Al poner el mouse encima de la siguiente imagen, genera dos números aleatorios entre 300 y 600 para el width y height de una imagen. Reemplaza la imagen de placeholder por otra similar con el tamaño random que generaste. El evento solo se dispara cuando el mouse entra en la imagen.</p>
        <p>6. Solución:</p>
        <img id="imagenGato" src="https://placekitten.com/200/300" alt="Imagen de gato aleatoria">
        <script>
            document.getElementById('imagenGato').addEventListener('mouseenter', function() {
                const randomWidth = Math.floor(Math.random() * 301) + 300; // 300-600
                const randomHeight = Math.floor(Math.random() * 301) + 300; // 300-600
                
                // Usamos un servicio más confiable con parámetros de caché aleatorios
                const newImage = new Image();
                newImage.src = `https://picsum.photos/${randomWidth}/${randomHeight}?random=${Math.random()}`;
                
                newImage.onload = () => {
                    this.src = newImage.src;
                };
                
                newImage.onerror = () => {
                    // Fallback a placekitten si hay error
                    this.src = `https://placekitten.com/${randomWidth}/${randomHeight}`;
                };
            });
        </script>
    </div>
        

    <div class="container">
        <h2>Conclusiones</h2>

        <h4>Experiencia general</h4>
        <p>
            El usar una IA (en este caso se uso DeepSeek y un poco de Copilot) ayuda mucho a resolver problemas de HTML
            , ya que al hacer este ejercicio, logro contestar todas las preguntas de la manera correcta
            , el unico tema es que a veces las paginas que referenciaba eran algo vagas, por ejemplo en la de 
            diferencias entre getElementById y querySelector, llevaba a una pagina de querySelector que tenia un link
            para ver getElementById, pero no decia nada de la diferencia entre ambos.
            <br>
            Con los ejercicios de codigo, la IA tuvo mas errores, ya que no logro hacer el ejercicio 3 y 6 de la manera
            correcta, en el 3 hubo un problema con las filas y en el 6 utilizó un link que fallaba al cambiar el tamaño 
            de la imagen. Pero ambas se lograron corregir con una prompt más.
        </p>
        <h4>¿Cuándo y para qué usarías DeepSeek y cuándo Copilot?</h4>
        <p>
            DeepSeek es mejor para las preguntas teóricas, ya que logró contestar todo y fundamentarlo mas o menos bien.
            Pero Copilot es mejor para los ejercicios de código, ya que razona de mejor manera al dar una solucion. (Aunque
            DeepSeek no estuvo mal tampoco, solo que Copilot puede dar cosas mas especificas o tecnicas)
        </p>
        <h4>Ventajas de usar AI para programar</h4>
        <p>
            La ventaja de las IAs es que reduce mucho el tiempo que se toma para hacer cualquier tipo de codigo, tambien
            ayuda a dar una idea inicial de como implementar algo.
        </p>
        <h4>Desventajas de usar AI para programar</h4>
        <p>
            Las desventajas de las IAs es que a veces no entienden bien lo que se les pide, o no saben como implementar algo
            de la manera correcta, por lo que si se necesita saber del tema y sobre todo saber localizar errores para poder 
            programar de la mejor manera posible. Aparte que aunque te de una solucion que funciona, puede que no sea la mas
            optima, y en el mundo laboral, es necesario hacer las cosas de la manera mas optima posible.
        </p>
    </div>

</body>
</html>